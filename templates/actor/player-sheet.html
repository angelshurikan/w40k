<form class="actor-sheet" data-actor-id="{{actor.id}}">
  <header class="sheet-header">
    <h1>
      <label for="actor-name" class="field-label">Nom du personnage</label>
    </h1>
    {{#if canEdit}}
      <input id="actor-name" type="text" name="name" value="{{actor.name}}" />
    {{else}}
      <div class="readonly-field">{{actor.name}}</div>
    {{/if}}
  </header>
  <section class="sheet-body">
    <div class="form-group">
      <label for="hp-value">Vie</label>
      <div>
        {{#if canEdit}}
          <input id="hp-value" type="number" name="system.attributes.hp.value" value="{{system.attributes.hp.value}}" min="0" />
          /
          <label for="hp-max" class="sr-only">HP maximum</label>
          <input id="hp-max" type="number" name="system.attributes.hp.max" value="{{system.attributes.hp.max}}" min="1" />
        {{else}}
          <span class="readonly-field">{{system.attributes.hp.value}} / {{system.attributes.hp.max}}</span>
        {{/if}}
      </div>
    </div>

    <div class="form-group">
      <label for="mana-value">Mana</label>
      <div>
        {{#if canEdit}}
          <input id="mana-value" type="number" name="system.attributes.mana.value" value="{{system.attributes.mana.value}}" min="0" />
          /
          <label for="mana-max" class="sr-only">Mana maximum</label>
          <input id="mana-max" type="number" name="system.attributes.mana.max" value="{{system.attributes.mana.max}}" min="0" />
        {{else}}
          <span class="readonly-field">{{system.attributes.mana.value}} / {{system.attributes.mana.max}}</span>
        {{/if}}
      </div>
    </div>

    <hr />

    <div class="form-group">
      <label for="homeworld-uuid">Monde natal</label>
      {{#if canEdit}}
        <select id="homeworld-uuid" name="system.homeworldUuid">
          <option value="">— Aucun —</option>
          {{#each homeworldChoices as |m|}}
            {{#if m.selected}}
              <option value="{{m.uuid}}" selected>{{m.name}}{{#if m.source}} ({{m.source}}){{/if}}</option>
            {{else}}
              <option value="{{m.uuid}}">{{m.name}}{{#if m.source}} ({{m.source}}){{/if}}</option>
            {{/if}}
          {{/each}}
        </select>
      {{else}}
        <span class="readonly-field">{{selectedHomeworldName}}</span>
      {{/if}}
    </div>

    <div class="form-group">
      <label for="eye-uuid-enabled">Eye</label>
      {{#if canEdit}}
        {{#if system.homeworldUuid}}
          <select id="eye-uuid-enabled" name="system.eyeUuid">
            <option value="">— Aucun —</option>
            {{#each eyeChoices as |e|}}
              {{#if e.selected}}
                <option value="{{e.uuid}}" selected>{{e.name}}{{#if e.source}} ({{e.source}}){{/if}}</option>
              {{else}}
                <option value="{{e.uuid}}">{{e.name}}{{#if e.source}} ({{e.source}}){{/if}}</option>
              {{/if}}
            {{/each}}
          </select>
        {{else}}
          <label for="eye-uuid-disabled" class="sr-only">Eye</label>
          <select id="eye-uuid-disabled" name="system.eyeUuid" disabled>
            <option value="">— Aucun —</option>
          </select>
          <p class="notes">Choisis d’abord un Monde natal pour filtrer la liste des Eyes.</p>
        {{/if}}
      {{else}}
        <span class="readonly-field">{{selectedEyeName}}</span>
      {{/if}}
    </div>

    <div class="form-group">
      <label for="skin-uuid-enabled">Peau</label>
      {{#if canEdit}}
        {{#if system.homeworldUuid}}
          <select id="skin-uuid-enabled" name="system.skinUuid">
            <option value="">— Aucun —</option>
            {{#each skinChoices as |s|}}
              {{#if s.selected}}
                <option value="{{s.uuid}}" selected>{{s.name}}{{#if s.source}} ({{s.source}}){{/if}}</option>
              {{else}}
                <option value="{{s.uuid}}">{{s.name}}{{#if s.source}} ({{s.source}}){{/if}}</option>
              {{/if}}
            {{/each}}
          </select>
        {{else}}
          <label for="skin-uuid-disabled" class="sr-only">Peau</label>
          <select id="skin-uuid-disabled" name="system.skinUuid" disabled>
            <option value="">— Aucun —</option>
          </select>
        {{/if}}
      {{else}}
        <span class="readonly-field">{{selectedSkinName}}</span>
      {{/if}}
    </div>

    <div class="form-group">
      <label for="hair-uuid-enabled">Cheveu</label>
      {{#if canEdit}}
        {{#if system.homeworldUuid}}
          <select id="hair-uuid-enabled" name="system.hairUuid">
            <option value="">— Aucun —</option>
            {{#each hairChoices as |h|}}
              {{#if h.selected}}
                <option value="{{h.uuid}}" selected>{{h.name}}{{#if h.source}} ({{h.source}}){{/if}}</option>
              {{else}}
                <option value="{{h.uuid}}">{{h.name}}{{#if h.source}} ({{h.source}}){{/if}}</option>
              {{/if}}
            {{/each}}
          </select>
        {{else}}
          <label for="hair-uuid-disabled" class="sr-only">Cheveu</label>
          <select id="hair-uuid-disabled" name="system.hairUuid" disabled>
            <option value="">— Aucun —</option>
          </select>
        {{/if}}
      {{else}}
        <span class="readonly-field">{{selectedHairName}}</span>
      {{/if}}
    </div>
  </section>

  <footer class="sheet-footer">
    {{#if canEdit}}
      <button type="submit">Sauvegarder</button>
    {{else}}
      <button type="button" disabled>Lecture seule</button>
    {{/if}}
  </footer>
</form>
